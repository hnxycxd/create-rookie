import k from"node:fs";import U from"node:path";import{fileURLToPath as Ai}from"node:url";import ue from"readline";import ae from"events";function ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B={},G,de;function q(){if(de)return G;de=1;const{FORCE_COLOR:t,NODE_DISABLE_COLORS:s,TERM:h}=process.env,e={enabled:!s&&h!=="dumb"&&t!=="0",reset:r(0,0),bold:r(1,22),dim:r(2,22),italic:r(3,23),underline:r(4,24),inverse:r(7,27),hidden:r(8,28),strikethrough:r(9,29),black:r(30,39),red:r(31,39),green:r(32,39),yellow:r(33,39),blue:r(34,39),magenta:r(35,39),cyan:r(36,39),white:r(37,39),gray:r(90,39),grey:r(90,39),bgBlack:r(40,49),bgRed:r(41,49),bgGreen:r(42,49),bgYellow:r(43,49),bgBlue:r(44,49),bgMagenta:r(45,49),bgCyan:r(46,49),bgWhite:r(47,49)};function c(v,o){let u=0,i,d="",a="";for(;u<v.length;u++)i=v[u],d+=i.open,a+=i.close,o.includes(i.close)&&(o=o.replace(i.rgx,i.close+i.open));return d+o+a}function b(v,o){let u={has:v,keys:o};return u.reset=e.reset.bind(u),u.bold=e.bold.bind(u),u.dim=e.dim.bind(u),u.italic=e.italic.bind(u),u.underline=e.underline.bind(u),u.inverse=e.inverse.bind(u),u.hidden=e.hidden.bind(u),u.strikethrough=e.strikethrough.bind(u),u.black=e.black.bind(u),u.red=e.red.bind(u),u.green=e.green.bind(u),u.yellow=e.yellow.bind(u),u.blue=e.blue.bind(u),u.magenta=e.magenta.bind(u),u.cyan=e.cyan.bind(u),u.white=e.white.bind(u),u.gray=e.gray.bind(u),u.grey=e.grey.bind(u),u.bgBlack=e.bgBlack.bind(u),u.bgRed=e.bgRed.bind(u),u.bgGreen=e.bgGreen.bind(u),u.bgYellow=e.bgYellow.bind(u),u.bgBlue=e.bgBlue.bind(u),u.bgMagenta=e.bgMagenta.bind(u),u.bgCyan=e.bgCyan.bind(u),u.bgWhite=e.bgWhite.bind(u),u}function r(v,o){let u={open:`\x1B[${v}m`,close:`\x1B[${o}m`,rgx:new RegExp(`\\x1b\\[${o}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(v)||(this.has.push(v),this.keys.push(u)),i===void 0?this:e.enabled?c(this.keys,i+""):i+""):i===void 0?b([v],[u]):e.enabled?c([u],i+""):i+""}}return G=e,G}var J,fe;function Ei(){return fe||(fe=1,J=(t,s)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(s){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),J}var z,pe;function W(){return pe||(pe=1,z=t=>{const s=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(s,"g");return typeof t=="string"?t.replace(h,""):t}),z}var K,me;function D(){if(me)return K;me=1;const t="\x1B",s=`${t}[`,h="\x07",e={to(r,v){return v?`${s}${v+1};${r+1}H`:`${s}${r+1}G`},move(r,v){let o="";return r<0?o+=`${s}${-r}D`:r>0&&(o+=`${s}${r}C`),v<0?o+=`${s}${-v}A`:v>0&&(o+=`${s}${v}B`),o},up:(r=1)=>`${s}${r}A`,down:(r=1)=>`${s}${r}B`,forward:(r=1)=>`${s}${r}C`,backward:(r=1)=>`${s}${r}D`,nextLine:(r=1)=>`${s}E`.repeat(r),prevLine:(r=1)=>`${s}F`.repeat(r),left:`${s}G`,hide:`${s}?25l`,show:`${s}?25h`,save:`${t}7`,restore:`${t}8`},c={up:(r=1)=>`${s}S`.repeat(r),down:(r=1)=>`${s}T`.repeat(r)},b={screen:`${s}2J`,up:(r=1)=>`${s}1J`.repeat(r),down:(r=1)=>`${s}J`.repeat(r),line:`${s}2K`,lineEnd:`${s}K`,lineStart:`${s}1K`,lines(r){let v="";for(let o=0;o<r;o++)v+=this.line+(o<r-1?e.up():"");return r&&(v+=e.left),v}};return K={cursor:e,scroll:c,erase:b,beep:h},K}var Z,ge;function ji(){if(ge)return Z;ge=1;function t(o,u){var i=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!i){if(Array.isArray(o)||(i=s(o))||u&&o&&typeof o.length=="number"){i&&(o=i);var d=0,a=function(){};return{s:a,n:function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}},e:function(f){throw f},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,l=!1,y;return{s:function(){i=i.call(o)},n:function(){var f=i.next();return n=f.done,f},e:function(f){l=!0,y=f},f:function(){try{!n&&i.return!=null&&i.return()}finally{if(l)throw y}}}}function s(o,u){if(o){if(typeof o=="string")return h(o,u);var i=Object.prototype.toString.call(o).slice(8,-1);if(i==="Object"&&o.constructor&&(i=o.constructor.name),i==="Map"||i==="Set")return Array.from(o);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return h(o,u)}}function h(o,u){(u==null||u>o.length)&&(u=o.length);for(var i=0,d=new Array(u);i<u;i++)d[i]=o[i];return d}const e=W(),c=D(),b=c.erase,r=c.cursor,v=o=>[...e(o)].length;return Z=function(o,u){if(!u)return b.line+r.to(0);let i=0;const d=o.split(/\r?\n/);var a=t(d),n;try{for(a.s();!(n=a.n()).done;){let l=n.value;i+=1+Math.floor(Math.max(v(l)-1,0)/u)}}catch(l){a.e(l)}finally{a.f()}return b.lines(i)},Z}var X,ve;function be(){if(ve)return X;ve=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},s={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return X=process.platform==="win32"?s:t,X}var Q,we;function Fi(){if(we)return Q;we=1;const t=q(),s=be(),h=Object.freeze({password:{scale:1,render:o=>"*".repeat(o.length)},emoji:{scale:2,render:o=>"\u{1F603}".repeat(o.length)},invisible:{scale:0,render:o=>""},default:{scale:1,render:o=>`${o}`}}),e=o=>h[o]||h.default,c=Object.freeze({aborted:t.red(s.cross),done:t.green(s.tick),exited:t.yellow(s.cross),default:t.cyan("?")});return Q={styles:h,render:e,symbols:c,symbol:(o,u,i)=>u?c.aborted:i?c.exited:o?c.done:c.default,delimiter:o=>t.gray(o?s.ellipsis:s.pointerSmall),item:(o,u)=>t.gray(o?u?s.pointerSmall:"+":s.line)},Q}var tt,ye;function Hi(){if(ye)return tt;ye=1;const t=W();return tt=function(s,h){let e=String(t(s)||"").split(/\r?\n/);return h?e.map(c=>Math.ceil(c.length/h)).reduce((c,b)=>c+b):e.length},tt}var et,xe;function Yi(){return xe||(xe=1,et=(t,s={})=>{const h=Number.isSafeInteger(parseInt(s.margin))?new Array(parseInt(s.margin)).fill(" ").join(""):s.margin||"",e=s.width;return(t||"").split(/\r?\n/g).map(c=>c.split(/\s+/g).reduce((b,r)=>(r.length+h.length>=e||b[b.length-1].length+r.length+1<e?b[b.length-1]+=` ${r}`:b.push(`${h}${r}`),b),[h]).join(`
`)).join(`
`)}),et}var it,Se;function Vi(){return Se||(Se=1,it=(t,s,h)=>{h=h||s;let e=Math.min(s-h,t-Math.floor(h/2));e<0&&(e=0);let c=Math.min(e+h,s);return{startIndex:e,endIndex:c}}),it}var rt,$e;function j(){return $e||($e=1,rt={action:Ei(),clear:ji(),style:Fi(),strip:W(),figures:be(),lines:Hi(),wrap:Yi(),entriesToDisplay:Vi()}),rt}var st,Me;function V(){if(Me)return st;Me=1;const t=ue,s=j(),h=s.action,e=ae,c=D(),b=c.beep,r=c.cursor,v=q();class o extends e{constructor(i={}){super(),this.firstRender=!0,this.in=i.stdin||process.stdin,this.out=i.stdout||process.stdout,this.onRender=(i.onRender||(()=>{})).bind(this);const d=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,d),this.in.isTTY&&this.in.setRawMode(!0);const a=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,n=(l,y)=>{let m=h(y,a);m===!1?this._&&this._(l,y):typeof this[m]=="function"?this[m](y):this.bell()};this.close=()=>{this.out.write(r.show),this.in.removeListener("keypress",n),this.in.isTTY&&this.in.setRawMode(!1),d.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",n)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(b)}render(){this.onRender(v),this.firstRender&&(this.firstRender=!1)}}return st=o,st}var nt,Pe;function Li(){if(Pe)return nt;Pe=1;function t(n,l,y,m,f,p,g){try{var w=n[p](g),x=w.value}catch(S){y(S);return}w.done?l(x):Promise.resolve(x).then(m,f)}function s(n){return function(){var l=this,y=arguments;return new Promise(function(m,f){var p=n.apply(l,y);function g(x){t(p,m,f,g,w,"next",x)}function w(x){t(p,m,f,g,w,"throw",x)}g(void 0)})}}const h=q(),e=V(),c=D(),b=c.erase,r=c.cursor,v=j(),o=v.style,u=v.clear,i=v.lines,d=v.figures;class a extends e{constructor(l={}){super(l),this.transform=o.render(l.style),this.scale=this.transform.scale,this.msg=l.message,this.initial=l.initial||"",this.validator=l.validate||(()=>!0),this.value="",this.errorMsg=l.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(l){!l&&this.initial?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(l)),this._value=l,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var l=this;return s(function*(){let y=yield l.validator(l.value);typeof y=="string"&&(l.errorMsg=y,y=!1),l.error=!y})()}submit(){var l=this;return s(function*(){if(l.value=l.value||l.initial,l.cursorOffset=0,l.cursor=l.rendered.length,yield l.validate(),l.error){l.red=!0,l.fire(),l.render();return}l.done=!0,l.aborted=!1,l.fire(),l.render(),l.out.write(`
`),l.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(l){this.placeholder||(this.cursor=this.cursor+l,this.cursorOffset+=l)}_(l,y){let m=this.value.slice(0,this.cursor),f=this.value.slice(this.cursor);this.value=`${m}${l}${f}`,this.red=!1,this.cursor=this.placeholder?0:m.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let l=this.value.slice(0,this.cursor-1),y=this.value.slice(this.cursor);this.value=`${l}${y}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let l=this.value.slice(0,this.cursor),y=this.value.slice(this.cursor+1);this.value=`${l}${y}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(i(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[o.symbol(this.done,this.aborted),h.bold(this.msg),o.delimiter(this.done),this.red?h.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((l,y,m)=>l+`
${m?" ":d.pointerSmall} ${h.red().italic(y)}`,"")),this.out.write(b.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore+r.move(this.cursorOffset,0)))}}return nt=a,nt}var ot,Oe;function Ni(){if(Oe)return ot;Oe=1;const t=q(),s=V(),h=j(),e=h.style,c=h.clear,b=h.figures,r=h.wrap,v=h.entriesToDisplay,o=D(),u=o.cursor;class i extends s{constructor(a={}){super(a),this.msg=a.message,this.hint=a.hint||"- Use arrow-keys. Return to submit.",this.warn=a.warn||"- This option is disabled",this.cursor=a.initial||0,this.choices=a.choices.map((n,l)=>(typeof n=="string"&&(n={title:n,value:l}),{title:n&&(n.title||n.value||n),value:n&&(n.value===void 0?l:n.value),description:n&&n.description,selected:n&&n.selected,disabled:n&&n.disabled})),this.optionsPerPage=a.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=c("",this.out.columns),this.render()}moveCursor(a){this.cursor=a,this.value=this.choices[a].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(a,n){if(a===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(u.hide):this.out.write(c(this.outputText,this.out.columns)),super.render();let a=v(this.cursor,this.choices.length,this.optionsPerPage),n=a.startIndex,l=a.endIndex;if(this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let y=n;y<l;y++){let m,f,p="",g=this.choices[y];y===n&&n>0?f=b.arrowUp:y===l-1&&l<this.choices.length?f=b.arrowDown:f=" ",g.disabled?(m=this.cursor===y?t.gray().underline(g.title):t.strikethrough().gray(g.title),f=(this.cursor===y?t.bold().gray(b.pointer)+" ":"  ")+f):(m=this.cursor===y?t.cyan().underline(g.title):g.title,f=(this.cursor===y?t.cyan(b.pointer)+" ":"  ")+f,g.description&&this.cursor===y&&(p=` - ${g.description}`,(f.length+m.length+p.length>=this.out.columns||g.description.split(/\r?\n/).length>1)&&(p=`
`+r(g.description,{margin:3,width:this.out.columns})))),this.outputText+=`${f} ${m}${t.gray(p)}
`}}this.out.write(this.outputText)}}return ot=i,ot}var ht,Te;function Ui(){if(Te)return ht;Te=1;const t=q(),s=V(),h=j(),e=h.style,c=h.clear,b=D(),r=b.cursor,v=b.erase;class o extends s{constructor(i={}){super(i),this.msg=i.message,this.value=!!i.initial,this.active=i.active||"on",this.inactive=i.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(i,d){if(i===" ")this.value=!this.value;else if(i==="1")this.value=!0;else if(i==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(c(this.outputText,this.out.columns)),super.render(),this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(v.line+r.to(0)+this.outputText))}}return ht=o,ht}var lt,qe;function H(){if(qe)return lt;qe=1;class t{constructor({token:h,date:e,parts:c,locales:b}){this.token=h,this.date=e||new Date,this.parts=c||[this],this.locales=b||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((e,c)=>c>h&&e instanceof t)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const e=h.indexOf(this);return h.find((c,b)=>b>e&&c instanceof t)}toString(){return String(this.date)}}return lt=t,lt}var ut,De;function ki(){if(De)return ut;De=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}return ut=s,ut}var at,_e;function Bi(){if(_e)return at;_e=1;const t=H(),s=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th");class h extends t{constructor(c={}){super(c)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(c){this.date.setDate(parseInt(c.substr(-2)))}toString(){let c=this.date.getDate(),b=this.date.getDay();return this.token==="DD"?String(c).padStart(2,"0"):this.token==="Do"?c+s(c):this.token==="d"?b+1:this.token==="ddd"?this.locales.weekdaysShort[b]:this.token==="dddd"?this.locales.weekdays[b]:c}}return at=h,at}var ct,Re;function Gi(){if(Re)return ct;Re=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}return ct=s,ct}var dt,Ce;function Ji(){if(Ce)return dt;Ce=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return dt=s,dt}var ft,Ie;function zi(){if(Ie)return ft;Ie=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}return ft=s,ft}var pt,Ae;function Wi(){if(Ae)return pt;Ae=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),c=this.token.length;return c===2?String(e+1).padStart(2,"0"):c===3?this.locales.monthsShort[e]:c===4?this.locales.months[e]:String(e+1)}}return pt=s,pt}var mt,Ee;function Ki(){if(Ee)return mt;Ee=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}return mt=s,mt}var gt,je;function Zi(){if(je)return gt;je=1;const t=H();class s extends t{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}return gt=s,gt}var vt,Fe;function Xi(){return Fe||(Fe=1,vt={DatePart:H(),Meridiem:ki(),Day:Bi(),Hours:Gi(),Milliseconds:Ji(),Minutes:zi(),Month:Wi(),Seconds:Ki(),Year:Zi()}),vt}var bt,He;function Qi(){if(He)return bt;He=1;function t($,P,T,I,_,R,E){try{var A=$[R](E),C=A.value}catch(N){T(N);return}A.done?P(C):Promise.resolve(C).then(I,_)}function s($){return function(){var P=this,T=arguments;return new Promise(function(I,_){var R=$.apply(P,T);function E(C){t(R,I,_,E,A,"next",C)}function A(C){t(R,I,_,E,A,"throw",C)}E(void 0)})}}const h=q(),e=V(),c=j(),b=c.style,r=c.clear,v=c.figures,o=D(),u=o.erase,i=o.cursor,d=Xi(),a=d.DatePart,n=d.Meridiem,l=d.Day,y=d.Hours,m=d.Milliseconds,f=d.Minutes,p=d.Month,g=d.Seconds,w=d.Year,x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:$})=>$.replace(/\\(.)/g,"$1"),2:$=>new l($),3:$=>new p($),4:$=>new w($),5:$=>new n($),6:$=>new y($),7:$=>new f($),8:$=>new g($),9:$=>new m($)},M={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class O extends e{constructor(P={}){super(P),this.msg=P.message,this.cursor=0,this.typed="",this.locales=Object.assign(M,P.locales),this._date=P.initial||new Date,this.errorMsg=P.error||"Please Enter A Valid Value",this.validator=P.validate||(()=>!0),this.mask=P.mask||"YYYY-MM-DD HH:mm:ss",this.clear=r("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(P){P&&this._date.setTime(P.getTime())}set mask(P){let T;for(this.parts=[];T=x.exec(P);){let _=T.shift(),R=T.findIndex(E=>E!=null);this.parts.push(R in S?S[R]({token:T[R]||_,date:this.date,parts:this.parts,locales:this.locales}):T[R]||_)}let I=this.parts.reduce((_,R)=>(typeof R=="string"&&typeof _[_.length-1]=="string"?_[_.length-1]+=R:_.push(R),_),[]);this.parts.splice(0),this.parts.push(...I),this.reset()}moveCursor(P){this.typed="",this.cursor=P,this.fire()}reset(){this.moveCursor(this.parts.findIndex(P=>P instanceof a)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var P=this;return s(function*(){let T=yield P.validator(P.value);typeof T=="string"&&(P.errorMsg=T,T=!1),P.error=!T})()}submit(){var P=this;return s(function*(){if(yield P.validate(),P.error){P.color="red",P.fire(),P.render();return}P.done=!0,P.aborted=!1,P.fire(),P.render(),P.out.write(`
`),P.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let P=this.parts[this.cursor].prev();if(P==null)return this.bell();this.moveCursor(this.parts.indexOf(P)),this.render()}right(){let P=this.parts[this.cursor].next();if(P==null)return this.bell();this.moveCursor(this.parts.indexOf(P)),this.render()}next(){let P=this.parts[this.cursor].next();this.moveCursor(P?this.parts.indexOf(P):this.parts.findIndex(T=>T instanceof a)),this.render()}_(P){/\d/.test(P)&&(this.typed+=P,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(i.hide):this.out.write(r(this.outputText,this.out.columns)),super.render(),this.outputText=[b.symbol(this.done,this.aborted),h.bold(this.msg),b.delimiter(!1),this.parts.reduce((P,T,I)=>P.concat(I===this.cursor&&!this.done?h.cyan().underline(T.toString()):T),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((P,T,I)=>P+`
${I?" ":v.pointerSmall} ${h.red().italic(T)}`,"")),this.out.write(u.line+i.to(0)+this.outputText))}}return bt=O,bt}var wt,Ye;function tr(){if(Ye)return wt;Ye=1;function t(m,f,p,g,w,x,S){try{var M=m[x](S),O=M.value}catch($){p($);return}M.done?f(O):Promise.resolve(O).then(g,w)}function s(m){return function(){var f=this,p=arguments;return new Promise(function(g,w){var x=m.apply(f,p);function S(O){t(x,g,w,S,M,"next",O)}function M(O){t(x,g,w,S,M,"throw",O)}S(void 0)})}}const h=q(),e=V(),c=D(),b=c.cursor,r=c.erase,v=j(),o=v.style,u=v.figures,i=v.clear,d=v.lines,a=/[0-9]/,n=m=>m!==void 0,l=(m,f)=>{let p=Math.pow(10,f);return Math.round(m*p)/p};class y extends e{constructor(f={}){super(f),this.transform=o.render(f.style),this.msg=f.message,this.initial=n(f.initial)?f.initial:"",this.float=!!f.float,this.round=f.round||2,this.inc=f.increment||1,this.min=n(f.min)?f.min:-1/0,this.max=n(f.max)?f.max:1/0,this.errorMsg=f.error||"Please Enter A Valid Value",this.validator=f.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(f){!f&&f!==0?(this.placeholder=!0,this.rendered=h.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${l(f,this.round)}`),this._value=l(f,this.round)),this.fire()}get value(){return this._value}parse(f){return this.float?parseFloat(f):parseInt(f)}valid(f){return f==="-"||f==="."&&this.float||a.test(f)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let f=this.value;this.value=f!==""?f:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var f=this;return s(function*(){let p=yield f.validator(f.value);typeof p=="string"&&(f.errorMsg=p,p=!1),f.error=!p})()}submit(){var f=this;return s(function*(){if(yield f.validate(),f.error){f.color="red",f.fire(),f.render();return}let p=f.value;f.value=p!==""?p:f.initial,f.done=!0,f.aborted=!1,f.error=!1,f.fire(),f.render(),f.out.write(`
`),f.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let f=this.value.toString();if(f.length===0)return this.bell();this.value=this.parse(f=f.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(f,p){if(!this.valid(f))return this.bell();const g=Date.now();if(g-this.lastHit>1e3&&(this.typed=""),this.typed+=f,this.lastHit=g,this.color="cyan",f===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(b.down(d(this.outputError,this.out.columns)-1)+i(this.outputError,this.out.columns)),this.out.write(i(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[o.symbol(this.done,this.aborted),h.bold(this.msg),o.delimiter(this.done),!this.done||!this.done&&!this.placeholder?h[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((f,p,g)=>f+`
${g?" ":u.pointerSmall} ${h.red().italic(p)}`,"")),this.out.write(r.line+b.to(0)+this.outputText+b.save+this.outputError+b.restore))}}return wt=y,wt}var yt,Ve;function Le(){if(Ve)return yt;Ve=1;const t=q(),s=D(),h=s.cursor,e=V(),c=j(),b=c.clear,r=c.figures,v=c.style,o=c.wrap,u=c.entriesToDisplay;class i extends e{constructor(a={}){super(a),this.msg=a.message,this.cursor=a.cursor||0,this.scrollIndex=a.cursor||0,this.hint=a.hint||"",this.warn=a.warn||"- This option is disabled -",this.minSelected=a.min,this.showMinError=!1,this.maxChoices=a.max,this.instructions=a.instructions,this.optionsPerPage=a.optionsPerPage||10,this.value=a.choices.map((n,l)=>(typeof n=="string"&&(n={title:n,value:l}),{title:n&&(n.title||n.value||n),description:n&&n.description,value:n&&(n.value===void 0?l:n.value),selected:n&&n.selected,disabled:n&&n.disabled})),this.clear=b("",this.out.columns),a.overrideRender||this.render()}reset(){this.value.map(a=>!a.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(a=>a.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const a=this.value.filter(n=>n.selected);this.minSelected&&a.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const a=this.value[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(n=>n.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const a=!this.value[this.cursor].selected;this.value.filter(n=>!n.disabled).forEach(n=>n.selected=a),this.render()}_(a,n){if(a===" ")this.handleSpaceToggle();else if(a==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${r.arrowUp}/${r.arrowDown}: Highlight option
    ${r.arrowLeft}/${r.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(a,n,l,y){const m=(n.selected?t.green(r.radioOn):r.radioOff)+" "+y+" ";let f,p;return n.disabled?f=a===l?t.gray().underline(n.title):t.strikethrough().gray(n.title):(f=a===l?t.cyan().underline(n.title):n.title,a===l&&n.description&&(p=` - ${n.description}`,(m.length+f.length+p.length>=this.out.columns||n.description.split(/\r?\n/).length>1)&&(p=`
`+o(n.description,{margin:m.length,width:this.out.columns})))),m+f+t.gray(p||"")}paginateOptions(a){if(a.length===0)return t.red("No matches for this query.");let n=u(this.cursor,a.length,this.optionsPerPage),l=n.startIndex,y=n.endIndex,m,f=[];for(let p=l;p<y;p++)p===l&&l>0?m=r.arrowUp:p===y-1&&y<a.length?m=r.arrowDown:m=" ",f.push(this.renderOption(this.cursor,a[p],p,m));return`
`+f.join(`
`)}renderOptions(a){return this.done?"":this.paginateOptions(a)}renderDoneOrInstructions(){if(this.done)return this.value.filter(n=>n.selected).map(n=>n.title).join(", ");const a=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&a.push(t.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let a=[v.symbol(this.done,this.aborted),t.bold(this.msg),v.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.value),this.out.write(this.clear+a),this.clear=b(a,this.out.columns)}}return yt=i,yt}var xt,Ne;function er(){if(Ne)return xt;Ne=1;function t(f,p,g,w,x,S,M){try{var O=f[S](M),$=O.value}catch(P){g(P);return}O.done?p($):Promise.resolve($).then(w,x)}function s(f){return function(){var p=this,g=arguments;return new Promise(function(w,x){var S=f.apply(p,g);function M($){t(S,w,x,M,O,"next",$)}function O($){t(S,w,x,M,O,"throw",$)}M(void 0)})}}const h=q(),e=V(),c=D(),b=c.erase,r=c.cursor,v=j(),o=v.style,u=v.clear,i=v.figures,d=v.wrap,a=v.entriesToDisplay,n=(f,p)=>f[p]&&(f[p].value||f[p].title||f[p]),l=(f,p)=>f[p]&&(f[p].title||f[p].value||f[p]),y=(f,p)=>{const g=f.findIndex(w=>w.value===p||w.title===p);return g>-1?g:void 0};class m extends e{constructor(p={}){super(p),this.msg=p.message,this.suggest=p.suggest,this.choices=p.choices,this.initial=typeof p.initial=="number"?p.initial:y(p.choices,p.initial),this.select=this.initial||p.cursor||0,this.i18n={noMatches:p.noMatches||"no matches found"},this.fallback=p.fallback||this.initial,this.clearFirst=p.clearFirst||!1,this.suggestions=[],this.input="",this.limit=p.limit||10,this.cursor=0,this.transform=o.render(p.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=u("",this.out.columns),this.complete(this.render),this.render()}set fallback(p){this._fb=Number.isSafeInteger(parseInt(p))?parseInt(p):p}get fallback(){let p;return typeof this._fb=="number"?p=this.choices[this._fb]:typeof this._fb=="string"&&(p={title:this._fb}),p||this._fb||{title:this.i18n.noMatches}}moveSelect(p){this.select=p,this.suggestions.length>0?this.value=n(this.suggestions,p):this.value=this.fallback.value,this.fire()}complete(p){var g=this;return s(function*(){const w=g.completing=g.suggest(g.input,g.choices),x=yield w;if(g.completing!==w)return;g.suggestions=x.map((M,O,$)=>({title:l($,O),value:n($,O),description:M.description})),g.completing=!1;const S=Math.max(x.length-1,0);g.moveSelect(Math.min(S,g.select)),p&&p()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(p,g){let w=this.input.slice(0,this.cursor),x=this.input.slice(this.cursor);this.input=`${w}${p}${x}`,this.cursor=w.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let p=this.input.slice(0,this.cursor-1),g=this.input.slice(this.cursor);this.input=`${p}${g}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let p=this.input.slice(0,this.cursor),g=this.input.slice(this.cursor+1);this.input=`${p}${g}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(p,g,w,x){let S,M=w?i.arrowUp:x?i.arrowDown:" ",O=g?h.cyan().underline(p.title):p.title;return M=(g?h.cyan(i.pointer)+" ":"  ")+M,p.description&&(S=` - ${p.description}`,(M.length+O.length+S.length>=this.out.columns||p.description.split(/\r?\n/).length>1)&&(S=`
`+d(p.description,{margin:3,width:this.out.columns}))),M+" "+O+h.gray(S||"")}render(){if(this.closed)return;this.firstRender?this.out.write(r.hide):this.out.write(u(this.outputText,this.out.columns)),super.render();let p=a(this.select,this.choices.length,this.limit),g=p.startIndex,w=p.endIndex;if(this.outputText=[o.symbol(this.done,this.aborted,this.exited),h.bold(this.msg),o.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const x=this.suggestions.slice(g,w).map((S,M)=>this.renderOption(S,this.select===M+g,M===0&&g>0,M+g===w-1&&w<this.choices.length)).join(`
`);this.outputText+=`
`+(x||h.gray(this.fallback.title))}this.out.write(b.line+r.to(0)+this.outputText)}}return xt=m,xt}var St,Ue;function ir(){if(Ue)return St;Ue=1;const t=q(),s=D(),h=s.cursor,e=Le(),c=j(),b=c.clear,r=c.style,v=c.figures;class o extends e{constructor(i={}){i.overrideRender=!0,super(i),this.inputValue="",this.clear=b("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const i=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(a=>this.inputValue?!!(typeof a.title=="string"&&a.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof a.value=="string"&&a.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const d=this.filteredOptions.findIndex(a=>a===i);this.cursor=d<0?0:d,this.render()}handleSpaceToggle(){const i=this.filteredOptions[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}handleInputChange(i){this.inputValue=this.inputValue+i,this.updateFilteredOptions()}_(i,d){i===" "?this.handleSpaceToggle():this.handleInputChange(i)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${v.arrowUp}/${v.arrowDown}: Highlight option
    ${v.arrowLeft}/${v.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(i,d,a){let n;return d.disabled?n=i===a?t.gray().underline(d.title):t.strikethrough().gray(d.title):n=i===a?t.cyan().underline(d.title):d.title,(d.selected?t.green(v.radioOn):v.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const i=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&i.push(t.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(h.hide),super.render();let i=[r.symbol(this.done,this.aborted),t.bold(this.msg),r.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+i),this.clear=b(i,this.out.columns)}}return St=o,St}var $t,ke;function rr(){if(ke)return $t;ke=1;const t=q(),s=V(),h=j(),e=h.style,c=h.clear,b=D(),r=b.erase,v=b.cursor;class o extends s{constructor(i={}){super(i),this.msg=i.message,this.value=i.initial,this.initialValue=!!i.initial,this.yesMsg=i.yes||"yes",this.yesOption=i.yesOption||"(Y/n)",this.noMsg=i.no||"no",this.noOption=i.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(i,d){return i.toLowerCase()==="y"?(this.value=!0,this.submit()):i.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(v.hide):this.out.write(c(this.outputText,this.out.columns)),super.render(),this.outputText=[e.symbol(this.done,this.aborted),t.bold(this.msg),e.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(r.line+v.to(0)+this.outputText))}}return $t=o,$t}var Mt,Be;function sr(){return Be||(Be=1,Mt={TextPrompt:Li(),SelectPrompt:Ni(),TogglePrompt:Ui(),DatePrompt:Qi(),NumberPrompt:tr(),MultiselectPrompt:Le(),AutocompletePrompt:er(),AutocompleteMultiselectPrompt:ir(),ConfirmPrompt:rr()}),Mt}var Ge;function nr(){return Ge||(Ge=1,function(t){const s=t,h=sr(),e=r=>r;function c(r,v,o={}){return new Promise((u,i)=>{const d=new h[r](v),a=o.onAbort||e,n=o.onSubmit||e,l=o.onExit||e;d.on("state",v.onState||e),d.on("submit",y=>u(n(y))),d.on("exit",y=>u(l(y))),d.on("abort",y=>i(a(y)))})}s.text=r=>c("TextPrompt",r),s.password=r=>(r.style="password",s.text(r)),s.invisible=r=>(r.style="invisible",s.text(r)),s.number=r=>c("NumberPrompt",r),s.date=r=>c("DatePrompt",r),s.confirm=r=>c("ConfirmPrompt",r),s.list=r=>{const v=r.separator||",";return c("TextPrompt",r,{onSubmit:o=>o.split(v).map(u=>u.trim())})},s.toggle=r=>c("TogglePrompt",r),s.select=r=>c("SelectPrompt",r),s.multiselect=r=>{r.choices=[].concat(r.choices||[]);const v=o=>o.filter(u=>u.selected).map(u=>u.value);return c("MultiselectPrompt",r,{onAbort:v,onSubmit:v})},s.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const v=o=>o.filter(u=>u.selected).map(u=>u.value);return c("AutocompleteMultiselectPrompt",r,{onAbort:v,onSubmit:v})};const b=(r,v)=>Promise.resolve(v.filter(o=>o.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));s.autocomplete=r=>(r.suggest=r.suggest||b,r.choices=[].concat(r.choices||[]),c("AutocompletePrompt",r))}(B)),B}var Pt,Je;function or(){if(Je)return Pt;Je=1;function t(m,f){var p=Object.keys(m);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(m);f&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(m,w).enumerable})),p.push.apply(p,g)}return p}function s(m){for(var f=1;f<arguments.length;f++){var p=arguments[f]!=null?arguments[f]:{};f%2?t(Object(p),!0).forEach(function(g){h(m,g,p[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(p)):t(Object(p)).forEach(function(g){Object.defineProperty(m,g,Object.getOwnPropertyDescriptor(p,g))})}return m}function h(m,f,p){return f in m?Object.defineProperty(m,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):m[f]=p,m}function e(m,f){var p=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!p){if(Array.isArray(m)||(p=c(m))||f&&m&&typeof m.length=="number"){p&&(m=p);var g=0,w=function(){};return{s:w,n:function(){return g>=m.length?{done:!0}:{done:!1,value:m[g++]}},e:function($){throw $},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,S=!1,M;return{s:function(){p=p.call(m)},n:function(){var $=p.next();return x=$.done,$},e:function($){S=!0,M=$},f:function(){try{!x&&p.return!=null&&p.return()}finally{if(S)throw M}}}}function c(m,f){if(m){if(typeof m=="string")return b(m,f);var p=Object.prototype.toString.call(m).slice(8,-1);if(p==="Object"&&m.constructor&&(p=m.constructor.name),p==="Map"||p==="Set")return Array.from(m);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return b(m,f)}}function b(m,f){(f==null||f>m.length)&&(f=m.length);for(var p=0,g=new Array(f);p<f;p++)g[p]=m[p];return g}function r(m,f,p,g,w,x,S){try{var M=m[x](S),O=M.value}catch($){p($);return}M.done?f(O):Promise.resolve(O).then(g,w)}function v(m){return function(){var f=this,p=arguments;return new Promise(function(g,w){var x=m.apply(f,p);function S(O){r(x,g,w,S,M,"next",O)}function M(O){r(x,g,w,S,M,"throw",O)}S(void 0)})}}const o=nr(),u=["suggest","format","onState","validate","onRender","type"],i=()=>{};function d(){return a.apply(this,arguments)}function a(){return a=v(function*(m=[],{onSubmit:f=i,onCancel:p=i}={}){const g={},w=d._override||{};m=[].concat(m);let x,S,M,O,$,P;const T=function(){var A=v(function*(C,N,le=!1){if(!(!le&&C.validate&&C.validate(N)!==!0))return C.format?yield C.format(N,g):N});return function(N,le){return A.apply(this,arguments)}}();var I=e(m),_;try{for(I.s();!(_=I.n()).done;){S=_.value;var R=S;if(O=R.name,$=R.type,typeof $=="function"&&($=yield $(x,s({},g),S),S.type=$),!!$){for(let A in S){if(u.includes(A))continue;let C=S[A];S[A]=typeof C=="function"?yield C(x,s({},g),P):C}if(P=S,typeof S.message!="string")throw new Error("prompt message is required");var E=S;if(O=E.name,$=E.type,o[$]===void 0)throw new Error(`prompt type (${$}) is not defined`);if(w[S.name]!==void 0&&(x=yield T(S,w[S.name]),x!==void 0)){g[O]=x;continue}try{x=d._injected?n(d._injected,S.initial):yield o[$](S),g[O]=x=yield T(S,x,!0),M=yield f(S,x,g)}catch{M=!(yield p(S,g))}if(M)return g}}}catch(A){I.e(A)}finally{I.f()}return g}),a.apply(this,arguments)}function n(m,f){const p=m.shift();if(p instanceof Error)throw p;return p===void 0?f:p}function l(m){d._injected=(d._injected||[]).concat(m)}function y(m){d._override=Object.assign({},m)}return Pt=Object.assign(d,{prompt:d,prompts:o,inject:l,override:y}),Pt}var Ot={},Tt,ze;function hr(){return ze||(ze=1,Tt=(t,s)=>{if(!(t.meta&&t.name!=="escape")){if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c"||t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(s){if(t.name==="j")return"down";if(t.name==="k")return"up"}return t.name==="return"||t.name==="enter"?"submit":t.name==="backspace"?"delete":t.name==="delete"?"deleteForward":t.name==="abort"?"abort":t.name==="escape"?"exit":t.name==="tab"?"next":t.name==="pagedown"?"nextPage":t.name==="pageup"?"prevPage":t.name==="home"?"home":t.name==="end"?"end":t.name==="up"?"up":t.name==="down"?"down":t.name==="right"?"right":t.name==="left"?"left":!1}}),Tt}var qt,We;function Dt(){return We||(We=1,qt=t=>{const s=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),h=new RegExp(s,"g");return typeof t=="string"?t.replace(h,""):t}),qt}var _t,Ke;function lr(){if(Ke)return _t;Ke=1;const t=Dt(),{erase:s,cursor:h}=D(),e=c=>[...t(c)].length;return _t=function(c,b){if(!b)return s.line+h.to(0);let r=0;const v=c.split(/\r?\n/);for(let o of v)r+=1+Math.floor(Math.max(e(o)-1,0)/b);return s.lines(r)},_t}var Rt,Ze;function Xe(){if(Ze)return Rt;Ze=1;const t={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},s={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return Rt=process.platform==="win32"?s:t,Rt}var Ct,Qe;function ur(){if(Qe)return Ct;Qe=1;const t=q(),s=Xe(),h=Object.freeze({password:{scale:1,render:o=>"*".repeat(o.length)},emoji:{scale:2,render:o=>"\u{1F603}".repeat(o.length)},invisible:{scale:0,render:o=>""},default:{scale:1,render:o=>`${o}`}}),e=o=>h[o]||h.default,c=Object.freeze({aborted:t.red(s.cross),done:t.green(s.tick),exited:t.yellow(s.cross),default:t.cyan("?")});return Ct={styles:h,render:e,symbols:c,symbol:(o,u,i)=>u?c.aborted:i?c.exited:o?c.done:c.default,delimiter:o=>t.gray(o?s.ellipsis:s.pointerSmall),item:(o,u)=>t.gray(o?u?s.pointerSmall:"+":s.line)},Ct}var It,ti;function ar(){if(ti)return It;ti=1;const t=Dt();return It=function(s,h){let e=String(t(s)||"").split(/\r?\n/);return h?e.map(c=>Math.ceil(c.length/h)).reduce((c,b)=>c+b):e.length},It}var At,ei;function cr(){return ei||(ei=1,At=(t,s={})=>{const h=Number.isSafeInteger(parseInt(s.margin))?new Array(parseInt(s.margin)).fill(" ").join(""):s.margin||"",e=s.width;return(t||"").split(/\r?\n/g).map(c=>c.split(/\s+/g).reduce((b,r)=>(r.length+h.length>=e||b[b.length-1].length+r.length+1<e?b[b.length-1]+=` ${r}`:b.push(`${h}${r}`),b),[h]).join(`
`)).join(`
`)}),At}var Et,ii;function dr(){return ii||(ii=1,Et=(t,s,h)=>{h=h||s;let e=Math.min(s-h,t-Math.floor(h/2));e<0&&(e=0);let c=Math.min(e+h,s);return{startIndex:e,endIndex:c}}),Et}var jt,ri;function F(){return ri||(ri=1,jt={action:hr(),clear:lr(),style:ur(),strip:Dt(),figures:Xe(),lines:ar(),wrap:cr(),entriesToDisplay:dr()}),jt}var Ft,si;function L(){if(si)return Ft;si=1;const t=ue,{action:s}=F(),h=ae,{beep:e,cursor:c}=D(),b=q();class r extends h{constructor(o={}){super(),this.firstRender=!0,this.in=o.stdin||process.stdin,this.out=o.stdout||process.stdout,this.onRender=(o.onRender||(()=>{})).bind(this);const u=t.createInterface({input:this.in,escapeCodeTimeout:50});t.emitKeypressEvents(this.in,u),this.in.isTTY&&this.in.setRawMode(!0);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,d=(a,n)=>{let l=s(n,i);l===!1?this._&&this._(a,n):typeof this[l]=="function"?this[l](n):this.bell()};this.close=()=>{this.out.write(c.show),this.in.removeListener("keypress",d),this.in.isTTY&&this.in.setRawMode(!1),u.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",d)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(e)}render(){this.onRender(b),this.firstRender&&(this.firstRender=!1)}}return Ft=r,Ft}var Ht,ni;function fr(){if(ni)return Ht;ni=1;const t=q(),s=L(),{erase:h,cursor:e}=D(),{style:c,clear:b,lines:r,figures:v}=F();class o extends s{constructor(i={}){super(i),this.transform=c.render(i.style),this.scale=this.transform.scale,this.msg=i.message,this.initial=i.initial||"",this.validator=i.validate||(()=>!0),this.value="",this.errorMsg=i.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=b("",this.out.columns),this.render()}set value(i){!i&&this.initial?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(i)),this._value=i,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let i=await this.validator(this.value);typeof i=="string"&&(this.errorMsg=i,i=!1),this.error=!i}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(i){this.placeholder||(this.cursor=this.cursor+i,this.cursorOffset+=i)}_(i,d){let a=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.value=`${a}${i}${n}`,this.red=!1,this.cursor=this.placeholder?0:a.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let i=this.value.slice(0,this.cursor-1),d=this.value.slice(this.cursor);this.value=`${i}${d}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let i=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor+1);this.value=`${i}${d}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(e.down(r(this.outputError,this.out.columns)-1)+b(this.outputError,this.out.columns)),this.out.write(b(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),t.bold(this.msg),c.delimiter(this.done),this.red?t.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((i,d,a)=>i+`
${a?" ":v.pointerSmall} ${t.red().italic(d)}`,"")),this.out.write(h.line+e.to(0)+this.outputText+e.save+this.outputError+e.restore+e.move(this.cursorOffset,0)))}}return Ht=o,Ht}var Yt,oi;function pr(){if(oi)return Yt;oi=1;const t=q(),s=L(),{style:h,clear:e,figures:c,wrap:b,entriesToDisplay:r}=F(),{cursor:v}=D();class o extends s{constructor(i={}){super(i),this.msg=i.message,this.hint=i.hint||"- Use arrow-keys. Return to submit.",this.warn=i.warn||"- This option is disabled",this.cursor=i.initial||0,this.choices=i.choices.map((d,a)=>(typeof d=="string"&&(d={title:d,value:a}),{title:d&&(d.title||d.value||d),value:d&&(d.value===void 0?a:d.value),description:d&&d.description,selected:d&&d.selected,disabled:d&&d.disabled})),this.optionsPerPage=i.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=e("",this.out.columns),this.render()}moveCursor(i){this.cursor=i,this.value=this.choices[i].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(i,d){if(i===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(v.hide):this.out.write(e(this.outputText,this.out.columns)),super.render();let{startIndex:i,endIndex:d}=r(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(!1),this.done?this.selection.title:this.selection.disabled?t.yellow(this.warn):t.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let a=i;a<d;a++){let n,l,y="",m=this.choices[a];a===i&&i>0?l=c.arrowUp:a===d-1&&d<this.choices.length?l=c.arrowDown:l=" ",m.disabled?(n=this.cursor===a?t.gray().underline(m.title):t.strikethrough().gray(m.title),l=(this.cursor===a?t.bold().gray(c.pointer)+" ":"  ")+l):(n=this.cursor===a?t.cyan().underline(m.title):m.title,l=(this.cursor===a?t.cyan(c.pointer)+" ":"  ")+l,m.description&&this.cursor===a&&(y=` - ${m.description}`,(l.length+n.length+y.length>=this.out.columns||m.description.split(/\r?\n/).length>1)&&(y=`
`+b(m.description,{margin:3,width:this.out.columns})))),this.outputText+=`${l} ${n}${t.gray(y)}
`}}this.out.write(this.outputText)}}return Yt=o,Yt}var Vt,hi;function mr(){if(hi)return Vt;hi=1;const t=q(),s=L(),{style:h,clear:e}=F(),{cursor:c,erase:b}=D();class r extends s{constructor(o={}){super(o),this.msg=o.message,this.value=!!o.initial,this.active=o.active||"on",this.inactive=o.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(o,u){if(o===" ")this.value=!this.value;else if(o==="1")this.value=!0;else if(o==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(this.done),this.value?this.inactive:t.cyan().underline(this.inactive),t.gray("/"),this.value?t.cyan().underline(this.active):this.active].join(" "),this.out.write(b.line+c.to(0)+this.outputText))}}return Vt=r,Vt}var Lt,li;function Y(){if(li)return Lt;li=1;class t{constructor({token:h,date:e,parts:c,locales:b}){this.token=h,this.date=e||new Date,this.parts=c||[this],this.locales=b||{}}up(){}down(){}next(){const h=this.parts.indexOf(this);return this.parts.find((e,c)=>c>h&&e instanceof t)}setTo(h){}prev(){let h=[].concat(this.parts).reverse();const e=h.indexOf(this);return h.find((c,b)=>b>e&&c instanceof t)}toString(){return String(this.date)}}return Lt=t,Lt}var Nt,ui;function gr(){if(ui)return Nt;ui=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}return Nt=s,Nt}var Ut,ai;function vr(){if(ai)return Ut;ai=1;const t=Y(),s=e=>(e=e%10,e===1?"st":e===2?"nd":e===3?"rd":"th");class h extends t{constructor(c={}){super(c)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(c){this.date.setDate(parseInt(c.substr(-2)))}toString(){let c=this.date.getDate(),b=this.date.getDay();return this.token==="DD"?String(c).padStart(2,"0"):this.token==="Do"?c+s(c):this.token==="d"?b+1:this.token==="ddd"?this.locales.weekdaysShort[b]:this.token==="dddd"?this.locales.weekdays[b]:c}}return Ut=h,Ut}var kt,ci;function br(){if(ci)return kt;ci=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}return kt=s,kt}var Bt,di;function wr(){if(di)return Bt;di=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Bt=s,Bt}var Gt,fi;function yr(){if(fi)return Gt;fi=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}return Gt=s,Gt}var Jt,pi;function xr(){if(pi)return Jt;pi=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),c=this.token.length;return c===2?String(e+1).padStart(2,"0"):c===3?this.locales.monthsShort[e]:c===4?this.locales.months[e]:String(e+1)}}return Jt=s,Jt}var zt,mi;function Sr(){if(mi)return zt;mi=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}return zt=s,zt}var Wt,gi;function $r(){if(gi)return Wt;gi=1;const t=Y();class s extends t{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}return Wt=s,Wt}var Kt,vi;function Mr(){return vi||(vi=1,Kt={DatePart:Y(),Meridiem:gr(),Day:vr(),Hours:br(),Milliseconds:wr(),Minutes:yr(),Month:xr(),Seconds:Sr(),Year:$r()}),Kt}var Zt,bi;function Pr(){if(bi)return Zt;bi=1;const t=q(),s=L(),{style:h,clear:e,figures:c}=F(),{erase:b,cursor:r}=D(),{DatePart:v,Meridiem:o,Day:u,Hours:i,Milliseconds:d,Minutes:a,Month:n,Seconds:l,Year:y}=Mr(),m=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,f={1:({token:w})=>w.replace(/\\(.)/g,"$1"),2:w=>new u(w),3:w=>new n(w),4:w=>new y(w),5:w=>new o(w),6:w=>new i(w),7:w=>new a(w),8:w=>new l(w),9:w=>new d(w)},p={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class g extends s{constructor(x={}){super(x),this.msg=x.message,this.cursor=0,this.typed="",this.locales=Object.assign(p,x.locales),this._date=x.initial||new Date,this.errorMsg=x.error||"Please Enter A Valid Value",this.validator=x.validate||(()=>!0),this.mask=x.mask||"YYYY-MM-DD HH:mm:ss",this.clear=e("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(x){x&&this._date.setTime(x.getTime())}set mask(x){let S;for(this.parts=[];S=m.exec(x);){let O=S.shift(),$=S.findIndex(P=>P!=null);this.parts.push($ in f?f[$]({token:S[$]||O,date:this.date,parts:this.parts,locales:this.locales}):S[$]||O)}let M=this.parts.reduce((O,$)=>(typeof $=="string"&&typeof O[O.length-1]=="string"?O[O.length-1]+=$:O.push($),O),[]);this.parts.splice(0),this.parts.push(...M),this.reset()}moveCursor(x){this.typed="",this.cursor=x,this.fire()}reset(){this.moveCursor(this.parts.findIndex(x=>x instanceof v)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let x=await this.validator(this.value);typeof x=="string"&&(this.errorMsg=x,x=!1),this.error=!x}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let x=this.parts[this.cursor].prev();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}right(){let x=this.parts[this.cursor].next();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}next(){let x=this.parts[this.cursor].next();this.moveCursor(x?this.parts.indexOf(x):this.parts.findIndex(S=>S instanceof v)),this.render()}_(x){/\d/.test(x)&&(this.typed+=x,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(r.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(!1),this.parts.reduce((x,S,M)=>x.concat(M===this.cursor&&!this.done?t.cyan().underline(S.toString()):S),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((x,S,M)=>x+`
${M?" ":c.pointerSmall} ${t.red().italic(S)}`,"")),this.out.write(b.line+r.to(0)+this.outputText))}}return Zt=g,Zt}var Xt,wi;function Or(){if(wi)return Xt;wi=1;const t=q(),s=L(),{cursor:h,erase:e}=D(),{style:c,figures:b,clear:r,lines:v}=F(),o=/[0-9]/,u=a=>a!==void 0,i=(a,n)=>{let l=Math.pow(10,n);return Math.round(a*l)/l};class d extends s{constructor(n={}){super(n),this.transform=c.render(n.style),this.msg=n.message,this.initial=u(n.initial)?n.initial:"",this.float=!!n.float,this.round=n.round||2,this.inc=n.increment||1,this.min=u(n.min)?n.min:-1/0,this.max=u(n.max)?n.max:1/0,this.errorMsg=n.error||"Please Enter A Valid Value",this.validator=n.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(n){!n&&n!==0?(this.placeholder=!0,this.rendered=t.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${i(n,this.round)}`),this._value=i(n,this.round)),this.fire()}get value(){return this._value}parse(n){return this.float?parseFloat(n):parseInt(n)}valid(n){return n==="-"||n==="."&&this.float||o.test(n)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let n=this.value;this.value=n!==""?n:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let n=await this.validator(this.value);typeof n=="string"&&(this.errorMsg=n,n=!1),this.error=!n}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let n=this.value;this.value=n!==""?n:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let n=this.value.toString();if(n.length===0)return this.bell();this.value=this.parse(n=n.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(n,l){if(!this.valid(n))return this.bell();const y=Date.now();if(y-this.lastHit>1e3&&(this.typed=""),this.typed+=n,this.lastHit=y,this.color="cyan",n===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(h.down(v(this.outputError,this.out.columns)-1)+r(this.outputError,this.out.columns)),this.out.write(r(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[c.symbol(this.done,this.aborted),t.bold(this.msg),c.delimiter(this.done),!this.done||!this.done&&!this.placeholder?t[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((n,l,y)=>n+`
${y?" ":b.pointerSmall} ${t.red().italic(l)}`,"")),this.out.write(e.line+h.to(0)+this.outputText+h.save+this.outputError+h.restore))}}return Xt=d,Xt}var Qt,yi;function xi(){if(yi)return Qt;yi=1;const t=q(),{cursor:s}=D(),h=L(),{clear:e,figures:c,style:b,wrap:r,entriesToDisplay:v}=F();class o extends h{constructor(i={}){super(i),this.msg=i.message,this.cursor=i.cursor||0,this.scrollIndex=i.cursor||0,this.hint=i.hint||"",this.warn=i.warn||"- This option is disabled -",this.minSelected=i.min,this.showMinError=!1,this.maxChoices=i.max,this.instructions=i.instructions,this.optionsPerPage=i.optionsPerPage||10,this.value=i.choices.map((d,a)=>(typeof d=="string"&&(d={title:d,value:a}),{title:d&&(d.title||d.value||d),description:d&&d.description,value:d&&(d.value===void 0?a:d.value),selected:d&&d.selected,disabled:d&&d.disabled})),this.clear=e("",this.out.columns),i.overrideRender||this.render()}reset(){this.value.map(i=>!i.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(i=>i.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const i=this.value.filter(d=>d.selected);this.minSelected&&i.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(i=>i.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const i=this.value[this.cursor];if(i.selected)i.selected=!1,this.render();else{if(i.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();i.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const i=!this.value[this.cursor].selected;this.value.filter(d=>!d.disabled).forEach(d=>d.selected=i),this.render()}_(i,d){if(i===" ")this.handleSpaceToggle();else if(i==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${c.arrowUp}/${c.arrowDown}: Highlight option
    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(i,d,a,n){const l=(d.selected?t.green(c.radioOn):c.radioOff)+" "+n+" ";let y,m;return d.disabled?y=i===a?t.gray().underline(d.title):t.strikethrough().gray(d.title):(y=i===a?t.cyan().underline(d.title):d.title,i===a&&d.description&&(m=` - ${d.description}`,(l.length+y.length+m.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(m=`
`+r(d.description,{margin:l.length,width:this.out.columns})))),l+y+t.gray(m||"")}paginateOptions(i){if(i.length===0)return t.red("No matches for this query.");let{startIndex:d,endIndex:a}=v(this.cursor,i.length,this.optionsPerPage),n,l=[];for(let y=d;y<a;y++)y===d&&d>0?n=c.arrowUp:y===a-1&&a<i.length?n=c.arrowDown:n=" ",l.push(this.renderOption(this.cursor,i[y],y,n));return`
`+l.join(`
`)}renderOptions(i){return this.done?"":this.paginateOptions(i)}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const i=[t.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&i.push(t.yellow(this.warn)),i.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(s.hide),super.render();let i=[b.symbol(this.done,this.aborted),t.bold(this.msg),b.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(i+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),i+=this.renderOptions(this.value),this.out.write(this.clear+i),this.clear=e(i,this.out.columns)}}return Qt=o,Qt}var te,Si;function Tr(){if(Si)return te;Si=1;const t=q(),s=L(),{erase:h,cursor:e}=D(),{style:c,clear:b,figures:r,wrap:v,entriesToDisplay:o}=F(),u=(n,l)=>n[l]&&(n[l].value||n[l].title||n[l]),i=(n,l)=>n[l]&&(n[l].title||n[l].value||n[l]),d=(n,l)=>{const y=n.findIndex(m=>m.value===l||m.title===l);return y>-1?y:void 0};class a extends s{constructor(l={}){super(l),this.msg=l.message,this.suggest=l.suggest,this.choices=l.choices,this.initial=typeof l.initial=="number"?l.initial:d(l.choices,l.initial),this.select=this.initial||l.cursor||0,this.i18n={noMatches:l.noMatches||"no matches found"},this.fallback=l.fallback||this.initial,this.clearFirst=l.clearFirst||!1,this.suggestions=[],this.input="",this.limit=l.limit||10,this.cursor=0,this.transform=c.render(l.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=b("",this.out.columns),this.complete(this.render),this.render()}set fallback(l){this._fb=Number.isSafeInteger(parseInt(l))?parseInt(l):l}get fallback(){let l;return typeof this._fb=="number"?l=this.choices[this._fb]:typeof this._fb=="string"&&(l={title:this._fb}),l||this._fb||{title:this.i18n.noMatches}}moveSelect(l){this.select=l,this.suggestions.length>0?this.value=u(this.suggestions,l):this.value=this.fallback.value,this.fire()}async complete(l){const y=this.completing=this.suggest(this.input,this.choices),m=await y;if(this.completing!==y)return;this.suggestions=m.map((p,g,w)=>({title:i(w,g),value:u(w,g),description:p.description})),this.completing=!1;const f=Math.max(m.length-1,0);this.moveSelect(Math.min(f,this.select)),l&&l()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(l,y){let m=this.input.slice(0,this.cursor),f=this.input.slice(this.cursor);this.input=`${m}${l}${f}`,this.cursor=m.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let l=this.input.slice(0,this.cursor-1),y=this.input.slice(this.cursor);this.input=`${l}${y}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let l=this.input.slice(0,this.cursor),y=this.input.slice(this.cursor+1);this.input=`${l}${y}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(l,y,m,f){let p,g=m?r.arrowUp:f?r.arrowDown:" ",w=y?t.cyan().underline(l.title):l.title;return g=(y?t.cyan(r.pointer)+" ":"  ")+g,l.description&&(p=` - ${l.description}`,(g.length+w.length+p.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(p=`
`+v(l.description,{margin:3,width:this.out.columns}))),g+" "+w+t.gray(p||"")}render(){if(this.closed)return;this.firstRender?this.out.write(e.hide):this.out.write(b(this.outputText,this.out.columns)),super.render();let{startIndex:l,endIndex:y}=o(this.select,this.choices.length,this.limit);if(this.outputText=[c.symbol(this.done,this.aborted,this.exited),t.bold(this.msg),c.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const m=this.suggestions.slice(l,y).map((f,p)=>this.renderOption(f,this.select===p+l,p===0&&l>0,p+l===y-1&&y<this.choices.length)).join(`
`);this.outputText+=`
`+(m||t.gray(this.fallback.title))}this.out.write(h.line+e.to(0)+this.outputText)}}return te=a,te}var ee,$i;function qr(){if($i)return ee;$i=1;const t=q(),{cursor:s}=D(),h=xi(),{clear:e,style:c,figures:b}=F();class r extends h{constructor(o={}){o.overrideRender=!0,super(o),this.inputValue="",this.clear=e("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const o=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const u=this.filteredOptions.findIndex(i=>i===o);this.cursor=u<0?0:u,this.render()}handleSpaceToggle(){const o=this.filteredOptions[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(u=>u.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}handleInputChange(o){this.inputValue=this.inputValue+o,this.updateFilteredOptions()}_(o,u){o===" "?this.handleSpaceToggle():this.handleInputChange(o)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${b.arrowUp}/${b.arrowDown}: Highlight option
    ${b.arrowLeft}/${b.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:t.gray("Enter something to filter")}
`}renderOption(o,u,i){let d;return u.disabled?d=o===i?t.gray().underline(u.title):t.strikethrough().gray(u.title):d=o===i?t.cyan().underline(u.title):u.title,(u.selected?t.green(b.radioOn):b.radioOff)+"  "+d}renderDoneOrInstructions(){if(this.done)return this.value.filter(u=>u.selected).map(u=>u.title).join(", ");const o=[t.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&o.push(t.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(s.hide),super.render();let o=[c.symbol(this.done,this.aborted),t.bold(this.msg),c.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=t.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+o),this.clear=e(o,this.out.columns)}}return ee=r,ee}var ie,Mi;function Dr(){if(Mi)return ie;Mi=1;const t=q(),s=L(),{style:h,clear:e}=F(),{erase:c,cursor:b}=D();class r extends s{constructor(o={}){super(o),this.msg=o.message,this.value=o.initial,this.initialValue=!!o.initial,this.yesMsg=o.yes||"yes",this.yesOption=o.yesOption||"(Y/n)",this.noMsg=o.no||"no",this.noOption=o.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(o,u){return o.toLowerCase()==="y"?(this.value=!0,this.submit()):o.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(b.hide):this.out.write(e(this.outputText,this.out.columns)),super.render(),this.outputText=[h.symbol(this.done,this.aborted),t.bold(this.msg),h.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:t.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(c.line+b.to(0)+this.outputText))}}return ie=r,ie}var re,Pi;function _r(){return Pi||(Pi=1,re={TextPrompt:fr(),SelectPrompt:pr(),TogglePrompt:mr(),DatePrompt:Pr(),NumberPrompt:Or(),MultiselectPrompt:xi(),AutocompletePrompt:Tr(),AutocompleteMultiselectPrompt:qr(),ConfirmPrompt:Dr()}),re}var Oi;function Rr(){return Oi||(Oi=1,function(t){const s=t,h=_r(),e=r=>r;function c(r,v,o={}){return new Promise((u,i)=>{const d=new h[r](v),a=o.onAbort||e,n=o.onSubmit||e,l=o.onExit||e;d.on("state",v.onState||e),d.on("submit",y=>u(n(y))),d.on("exit",y=>u(l(y))),d.on("abort",y=>i(a(y)))})}s.text=r=>c("TextPrompt",r),s.password=r=>(r.style="password",s.text(r)),s.invisible=r=>(r.style="invisible",s.text(r)),s.number=r=>c("NumberPrompt",r),s.date=r=>c("DatePrompt",r),s.confirm=r=>c("ConfirmPrompt",r),s.list=r=>{const v=r.separator||",";return c("TextPrompt",r,{onSubmit:o=>o.split(v).map(u=>u.trim())})},s.toggle=r=>c("TogglePrompt",r),s.select=r=>c("SelectPrompt",r),s.multiselect=r=>{r.choices=[].concat(r.choices||[]);const v=o=>o.filter(u=>u.selected).map(u=>u.value);return c("MultiselectPrompt",r,{onAbort:v,onSubmit:v})},s.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);const v=o=>o.filter(u=>u.selected).map(u=>u.value);return c("AutocompleteMultiselectPrompt",r,{onAbort:v,onSubmit:v})};const b=(r,v)=>Promise.resolve(v.filter(o=>o.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));s.autocomplete=r=>(r.suggest=r.suggest||b,r.choices=[].concat(r.choices||[]),c("AutocompletePrompt",r))}(Ot)),Ot}var se,Ti;function Cr(){if(Ti)return se;Ti=1;const t=Rr(),s=["suggest","format","onState","validate","onRender","type"],h=()=>{};async function e(v=[],{onSubmit:o=h,onCancel:u=h}={}){const i={},d=e._override||{};v=[].concat(v);let a,n,l,y,m,f;const p=async(g,w,x=!1)=>{if(!(!x&&g.validate&&g.validate(w)!==!0))return g.format?await g.format(w,i):w};for(n of v)if({name:y,type:m}=n,typeof m=="function"&&(m=await m(a,{...i},n),n.type=m),!!m){for(let g in n){if(s.includes(g))continue;let w=n[g];n[g]=typeof w=="function"?await w(a,{...i},f):w}if(f=n,typeof n.message!="string")throw new Error("prompt message is required");if({name:y,type:m}=n,t[m]===void 0)throw new Error(`prompt type (${m}) is not defined`);if(d[n.name]!==void 0&&(a=await p(n,d[n.name]),a!==void 0)){i[y]=a;continue}try{a=e._injected?c(e._injected,n.initial):await t[m](n),i[y]=a=await p(n,a,!0),l=await o(n,a,i)}catch{l=!await u(n,i)}if(l)return i}return i}function c(v,o){const u=v.shift();if(u instanceof Error)throw u;return u===void 0?o:u}function b(v){e._injected=(e._injected||[]).concat(v)}function r(v){e._override=Object.assign({},v)}return se=Object.assign(e,{prompt:e,prompts:t,inject:b,override:r}),se}function Ir(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let s=0,h=process.versions.node.split(".").map(Number);for(;s<t.length;s++){if(h[s]>t[s])return!1;if(t[s]>h[s])return!0}return!1}var Ar=Ir("8.6.0")?or():Cr();const Er=ce(Ar);function jr(t,s){var h=t;s.slice(0,-1).forEach(function(c){h=h[c]||{}});var e=s[s.length-1];return e in h}function qi(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function Di(t,s){return s==="constructor"&&typeof t[s]=="function"||s==="__proto__"}var Fr=function(t,s){s||(s={});var h={bools:{},strings:{},unknownFn:null};typeof s.unknown=="function"&&(h.unknownFn=s.unknown),typeof s.boolean=="boolean"&&s.boolean?h.allBools=!0:[].concat(s.boolean).filter(Boolean).forEach(function(w){h.bools[w]=!0});var e={};function c(w){return e[w].some(function(x){return h.bools[x]})}Object.keys(s.alias||{}).forEach(function(w){e[w]=[].concat(s.alias[w]),e[w].forEach(function(x){e[x]=[w].concat(e[w].filter(function(S){return x!==S}))})}),[].concat(s.string).filter(Boolean).forEach(function(w){h.strings[w]=!0,e[w]&&[].concat(e[w]).forEach(function(x){h.strings[x]=!0})});var b=s.default||{},r={_:[]};function v(w,x){return h.allBools&&/^--[^=]+$/.test(x)||h.strings[w]||h.bools[w]||e[w]}function o(w,x,S){for(var M=w,O=0;O<x.length-1;O++){var $=x[O];if(Di(M,$))return;M[$]===void 0&&(M[$]={}),(M[$]===Object.prototype||M[$]===Number.prototype||M[$]===String.prototype)&&(M[$]={}),M[$]===Array.prototype&&(M[$]=[]),M=M[$]}var P=x[x.length-1];Di(M,P)||((M===Object.prototype||M===Number.prototype||M===String.prototype)&&(M={}),M===Array.prototype&&(M=[]),M[P]===void 0||h.bools[P]||typeof M[P]=="boolean"?M[P]=S:Array.isArray(M[P])?M[P].push(S):M[P]=[M[P],S])}function u(w,x,S){if(!(S&&h.unknownFn&&!v(w,S)&&h.unknownFn(S)===!1)){var M=!h.strings[w]&&qi(x)?Number(x):x;o(r,w.split("."),M),(e[w]||[]).forEach(function(O){o(r,O.split("."),M)})}}Object.keys(h.bools).forEach(function(w){u(w,b[w]===void 0?!1:b[w])});var i=[];t.indexOf("--")!==-1&&(i=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var d=0;d<t.length;d++){var a=t[d],n,l;if(/^--.+=/.test(a)){var y=a.match(/^--([^=]+)=([\s\S]*)$/);n=y[1];var m=y[2];h.bools[n]&&(m=m!=="false"),u(n,m,a)}else if(/^--no-.+/.test(a))n=a.match(/^--no-(.+)/)[1],u(n,!1,a);else if(/^--.+/.test(a))n=a.match(/^--(.+)/)[1],l=t[d+1],l!==void 0&&!/^(-|--)[^-]/.test(l)&&!h.bools[n]&&!h.allBools&&(!e[n]||!c(n))?(u(n,l,a),d+=1):/^(true|false)$/.test(l)?(u(n,l==="true",a),d+=1):u(n,h.strings[n]?"":!0,a);else if(/^-[^-]+/.test(a)){for(var f=a.slice(1,-1).split(""),p=!1,g=0;g<f.length;g++){if(l=a.slice(g+2),l==="-"){u(f[g],l,a);continue}if(/[A-Za-z]/.test(f[g])&&l[0]==="="){u(f[g],l.slice(1),a),p=!0;break}if(/[A-Za-z]/.test(f[g])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(l)){u(f[g],l,a),p=!0;break}if(f[g+1]&&f[g+1].match(/\W/)){u(f[g],a.slice(g+2),a),p=!0;break}else u(f[g],h.strings[f[g]]?"":!0,a)}n=a.slice(-1)[0],!p&&n!=="-"&&(t[d+1]&&!/^(-|--)[^-]/.test(t[d+1])&&!h.bools[n]&&(!e[n]||!c(n))?(u(n,t[d+1],a),d+=1):t[d+1]&&/^(true|false)$/.test(t[d+1])?(u(n,t[d+1]==="true",a),d+=1):u(n,h.strings[n]?"":!0,a))}else if((!h.unknownFn||h.unknownFn(a)!==!1)&&r._.push(h.strings._||!qi(a)?a:Number(a)),s.stopEarly){r._.push.apply(r._,t.slice(d+1));break}}return Object.keys(b).forEach(function(w){jr(r,w.split("."))||(o(r,w.split("."),b[w]),(e[w]||[]).forEach(function(x){o(r,x.split("."),b[w])}))}),s["--"]?r["--"]=i.slice():i.forEach(function(w){r._.push(w)}),r};const Hr=ce(Fr),ne=Hr(process.argv.slice(2),{alias:{t:"template"},string:["_"]});let oe="",_i="";const Yr=U.dirname(Ai(import.meta.url)),he=["node-ts"],Ri="rookie-project",Ci=t=>t?.trim().replace(/\/+$/g,""),Vr=async()=>{const t=Ci(ne._[0]),s=ne.t||ne.template;oe=t||Ri,_i=(await Er([{type:t?null:"text",name:"name",message:"project name?",initial:t,onState:h=>{oe=Ci(h.value)||Ri}},{type:s&&he.includes(s)?null:"select",name:"template",message:typeof s=="string"&&!he.includes(s)?`"${s}" isn't a valid template. Please choose from below: `:"Select a template",choices:he.map(h=>({title:h,value:h}))}])).template||s},Ii=(t,s)=>{k.readdirSync(t,{withFileTypes:!0}).forEach(h=>{const e=U.join(t,h.name),c=U.join(s,h.name);h.isDirectory()?(k.mkdirSync(c,{recursive:!0}),Ii(e,c)):k.copyFileSync(e,c)})},Lr=(t,s)=>{try{k.mkdirSync(s,{recursive:!0}),Ii(t,s),console.log("successfully!")}catch(h){console.error("Error :",h)}},Nr=async()=>{await Vr();const t=U.join(Yr,`../src/template/${_i}`),s=U.join(process.cwd(),oe);Lr(t,s)};Nr();
